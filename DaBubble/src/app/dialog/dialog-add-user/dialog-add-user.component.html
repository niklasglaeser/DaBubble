<div class="form-group-search">
  <input type="text" placeholder="Mitglieder suchen" [formControl]="userControl" [matAutocomplete]="auto"
    class="example-input" [class.mat-autocomplete-panel-open]="isPanelOpen" (input)="handleUserSearch($event)" />
  <mat-autocomplete #auto="matAutocomplete" (opened)="isPanelOpen = true" (closed)="isPanelOpen = false"
    (closed)="onAutocompleteClosed()">
    <mat-option *ngFor="let user of filteredUsers" [value]="user.name" (onSelectionChange)="addUserToSelection(user)">
      <img src="../../../assets/img/general/avatars/Avatar.svg" alt="" />
      <p class="fs-18">{{ user.name }}</p>
    </mat-option>
  </mat-autocomplete>

  <div *ngIf="selectedUsers.length > 0">
    <input style="display: none;" [matChipInputFor]="chipGrid" [matChipInputAddOnBlur]="true" />
    <mat-chip-grid #chipGrid>
      <mat-chip-row *ngFor="let user of selectedUsers" [removable]="true" (removed)="removeSelectedUser(user)">
        <div class="chip-subcontainer">
          <img src="../../../assets/img/general/avatars/Avatar.svg" alt="" />
          <p>{{ user.name }}</p>
        </div>
        <button matChipRemove>
          <img src="../../../assets/img/main-page/thread/cross.svg" />
        </button>
      </mat-chip-row>
    </mat-chip-grid>
  </div>
</div>